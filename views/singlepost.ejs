<html lang="en">
<head>
 <meta charset="UTF-8">
 <meta http-equiv="X-UA-Compatible" content="IE=edge">
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <link rel="stylesheet" href="/style.css">
 <title>Single Post</title>
</head>
<body>
 <h1>Single post page</h1>
 <nav>
    <a href="/">Home </a> |
    <a href="/posts">Posts page</a> |
    <a href="/contactus">Contact us</a>|
    <a href="/create">New post</a>
</nav>

 <div class="singlepost">
    <h2>
    <%= posts.title %>
    </h2>
    <div class="content">
    <p>
    <%= posts.body %>
    </p>
    </div>
    <a class="delete" data-del="<%= posts.id %>">Delete</a>
 </div>
 
 <script>
    const delreq = document.querySelector('a.delete');
    delreq.addEventListener('click', (e) => {
    const endpoint = `/posts/${delreq.dataset.del}`;
    fetch(endpoint, {
    method: 'DELETE',
    }).then(window.location.href = '/posts')
    });
 </script>

<footer class="footer">
    <p>Â© WAD 2021 </p>
</footer>
</body>
</html>